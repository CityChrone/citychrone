<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta charset="utf-8">
	<style>
	table {
		border-collapse: collapse;
	}
	table td, table th {
		border: 1px solid #888;
	}
	pre code {
		display: inline-block;
		background: #eee;
	}
	td:last-child code {
		background: #eee;
	}
	body {
		font-family: Sans;
	}
	</style>
</head>
<body>
	<h2>Leafdoc generated API reference</h2>

	<h2 id='finger'>Finger</h2>
<p>Represents a finger, capable of performing single touch/pointer/mouse synthetic
events.</p>

<h3 id='finger-example'>Usage example</h3>

<section data-type='[object Object]'>



<pre><code class="lang-js">var h = new Hand();
var fatFinger = h.growFinger(&#39;pointer&#39;, { pointerType: &#39;touch&#39;, pressure: 0.9 });
var lightFinger = h.growFinger(&#39;pointer&#39;, { pointerType: &#39;touch&#39;, pressure: 0.1 });
fatFinger.wait(500).moveTo(200, 250, 0).down().moveBy(100, 150, 2000).up();
</code></pre>


</section>

<h3 id='finger-factory'>Creation</h3>

<section data-type='[object Object]'>


<table><thead>
	<tr>
		<th>Instantiation</th>
		<th>Description</th>
	</tr>
	</thead><tbody>
	<tr id='finger-finger'>
		<td><code>new <b>Finger</b>(<nobr>&lt;String&gt; <i>eventMode</i></nobr>, <nobr>&lt;Finger state&gt; <i>options?</i></nobr>)</nobr></code></td>
		<td>Instantiates a new <a href="#finger"><code>Finger</code></a>. <code>eventMode</code> must be <code>mouse</code>, <code>touch</code> or <code>pointer</code>
for <code>MouseEvent</code>s, <code>TouchEvent</code>s or <code>PointerEvent</code>s, respectively.</td>
	</tr>
</tbody></table>
</section>

<h3 id='finger-option'>Options</h3>

<section data-type='[object Object]'>
<h4 id='finger-finger-state'>Finger state</h4>
The internal state of a <a href="#finger"><code>Finger</code></a> has options which will be reflected as
properties of the events fired afterwards. Some of these state options
apply only to a specific event mode.
<table><thead>
	<tr>
		<th>Option</th>
		<th>Type</th>
		<th>Default</th>
		<th>Description</th>
	</tr>
	</thead><tbody>
	<tr id='finger-x'>
		<td><code><b>x</b></code></td>
		<td><code>Number</code>
		<td><code></code></td>
		<td>The number of pixels from the left boundary the finger is at.</td>
	</tr>
	<tr id='finger-y'>
		<td><code><b>y</b></code></td>
		<td><code>Number</code>
		<td><code></code></td>
		<td>The number of pixels from the top boundary the finger is at.</td>
	</tr>
	<tr id='finger-down'>
		<td><code><b>down</b></code></td>
		<td><code>Boolean</code>
		<td><code></code></td>
		<td>Whether the finger is down (clicking/touching/pressing) or not. This is referred to as &quot;active&quot; in some of the events specifications.</td>
	</tr>
	<tr id='finger-pressure'>
		<td><code><b>pressure</b></code></td>
		<td><code>Number </code>
		<td><code>0.5</code></td>
		<td>The value for <a href="`https://developer.mozilla.org/docs/Web/API/Touch/force`"><code>Touch.force</code></a> or <a href="https://developer.mozilla.org/docs/Web/API/PointerEvent/pressure"><code>PointerEvent.pressure</code></a>, between <code>0.0</code> and <code>1.0</code></td>
	</tr>
	<tr id='finger-tiltx'>
		<td><code><b>tiltX</b></code></td>
		<td><code>Number </code>
		<td><code>0</code></td>
		<td>The value for <a href="https://developer.mozilla.org/docs/Web/API/PointerEvent/tiltX"><code>PointerEvent.tiltX</code></a></td>
	</tr>
	<tr id='finger-tilty'>
		<td><code><b>tiltY</b></code></td>
		<td><code>Number </code>
		<td><code>0</code></td>
		<td>The value for <a href="https://developer.mozilla.org/docs/Web/API/PointerEvent/tiltY"><code>PointerEvent.tiltX</code></a></td>
	</tr>
	<tr id='finger-width'>
		<td><code><b>width</b></code></td>
		<td><code>Number </code>
		<td><code>25</code></td>
		<td>The value for <a href="`https://developer.mozilla.org/docs/Web/API/Touch/radiusX`"><code>Touch.radiusX</code></a> or <a href="https://developer.mozilla.org/docs/Web/API/PointerEvent/width"><code>PointerEvent.width</code></a></td>
	</tr>
	<tr id='finger-radiusy'>
		<td><code><b>radiusY</b></code></td>
		<td><code>Number </code>
		<td><code>25</code></td>
		<td>The value for <a href="`https://developer.mozilla.org/docs/Web/API/Touch/radiusY`"><code>Touch.radiusY</code></a> or <a href="https://developer.mozilla.org/docs/Web/API/PointerEvent/height"><code>PointerEvent.height</code></a></td>
	</tr>
	<tr id='finger-pointertype'>
		<td><code><b>pointerType</b></code></td>
		<td><code>String </code>
		<td><code>&#x27;pen&#x27;</code></td>
		<td>The value for <a href="https://developer.mozilla.org/docs/Web/API/PointerEvent/pointerType"><code>PointerEvent.pointerType</code></a></td>
	</tr>
</tbody></table>
</section>

<h3 id='finger-method'>Methods</h3>

<section data-type='[object Object]'>
<h4 id='finger-finger-state'>Finger state</h4>

<table><thead>
	<tr>
		<th>Method</th>
		<th>Returns</th>
		<th>Description</th>
	</tr>
	</thead><tbody>
	<tr id='finger-isidle'>
		<td><code><b>isIdle</b>()</nobr></code></td>
		<td><code>Boolean</code></td>
		<td>Returns true when the finger has no more pending movements/waits/wiggles/etc.</td>
	</tr>
	<tr id='finger-down'>
		<td><code><b>down</b>(<nobr>&lt;Number&gt; <i>delay?</i></nobr>)</nobr></code></td>
		<td><code>this</code></td>
		<td>Puts the finger down, optionally after a delay.</td>
	</tr>
	<tr id='finger-up'>
		<td><code><b>up</b>(<nobr>&lt;{}&gt; <i>options?</i></nobr>)</nobr></code></td>
		<td><code>this</code></td>
		<td>Lifts the finger up, after an optional delay.</td>
	</tr>
	<tr id='finger-wait'>
		<td><code><b>wait</b>(<nobr><i>delay</i></nobr>)</nobr></code></td>
		<td><code>this</code></td>
		<td>Don&#39;t move this finger for <code>delay</code> milliseconds.</td>
	</tr>
	<tr id='finger-waituntil'>
		<td><code><b>waitUntil</b>(<nobr><i>timestamp</i></nobr>)</nobr></code></td>
		<td><code>this</code></td>
		<td>Don&#39;t move this finger until the given timestamp is reached.</td>
	</tr>
	<tr id='finger-update'>
		<td><code><b>update</b>(<nobr>&lt;{}&gt; <i>options?</i></nobr>)</nobr></code></td>
		<td><code>this</code></td>
		<td>Updates some of the finger options, like pressure or touch angle,
without disturbing its movement, after an optional delay.</td>
	</tr>
	<tr id='finger-reset'>
		<td><code><b>reset</b>(<nobr>&lt;{}&gt; <i>options?</i></nobr>)</nobr></code></td>
		<td><code>this</code></td>
		<td>Clears all the queued movements for this finger and immediately lifts it up</td>
	</tr>
	<tr id='finger-moveto'>
		<td><code><b>moveTo</b>(<nobr>&lt;Number&gt; <i>x</i></nobr>, <nobr>&lt;Number&gt; <i>y</i></nobr>, <nobr>&lt;Number&gt; <i>delay</i></nobr>, <nobr>&lt;{}&gt; <i>options?</i></nobr>)</nobr></code></td>
		<td><code>this</code></td>
		<td>Queues moving this finger to an absolute position at <code>(x, y)</code>; the
movement will last for <code>delay</code> milliseconds.</td>
	</tr>
	<tr id='finger-moveby'>
		<td><code><b>moveBy</b>(<nobr>&lt;Number&gt; <i>x</i></nobr>, <nobr>&lt;Number&gt; <i>y</i></nobr>, <nobr>&lt;Number&gt; <i>delay</i></nobr>, <nobr>&lt;{}&gt; <i>options?</i></nobr>)</nobr></code></td>
		<td><code>this</code></td>
		<td>Queues a move of this finger to an position relative to its last position
plus<code>(x, y)</code>; the movement will last for <code>delay</code> milliseconds.</td>
	</tr>
	<tr id='finger-getnextmoveendtime'>
		<td><code><b>getNextMoveEndTime</b>()</nobr></code></td>
		<td><code>Number|undefined</code></td>
		<td></td>
	</tr>
	<tr id='finger-getevents'>
		<td><code><b>getEvents</b>(<nobr>&lt;Number&gt; <i>timestamp?</i></nobr>, <nobr>&lt;Boolean&gt; <i>justOne</i></nobr>)</nobr></code></td>
		<td><code>[]</code></td>
		<td>Updates the private properties of the finger (x, y, timestamp) by
running the next movement(s) as far as indicated by the timestamp (or
as fas as to <code>performance.now()</code>), then checks if the state has changed
and means an event should be fired.
If <code>justOne</code> is set to truthy, then this will run just one movements.
Otherwise, it will run as many movements as needed until <code>timestamp</code> is reached.
Returns an array of objects of the form <code>{type: &#39;foo&#39;, event: MouseEvent(...), finger: Finger}</code>
or <code>{type: &#39;foo&#39;, touch: Touch(...), finger: Finger}</code>, with all the active <code>Touch</code>es or
all triggered mouse/pointer events triggered by executing moves until
<code>timestamp</code>.
If the finger doesn&#39;t matter when <code>getEvents()</code> is called, then an empty
array is return instead. This happens for mice not moving, and fingers
not touching (fingers touching but not moving, and mice not pressing
but moving <em>do</em> matter).
A <a href="#hand"><code>Hand</code></a> is reponsible for getting events (using loops, timings, or
whatever), requesting the right timestamps if needed, merging <code>Touch</code>es
into <code>TouchEvent</code>s, and firing the events via <code>dispatchEvent()</code>.</td>
	</tr>
	<tr id='finger-private_astouch'>
		<td><code><b>private_asTouch</b>()</nobr></code></td>
		<td><code>Touch</code></td>
		<td>Returns an instance of <code>Touch</code> representing the current state of the finger
Note this is not an event - a <code>TouchEvent</code> must be created later, with several
<code>Touch</code>es.</td>
	</tr>
	<tr id='finger-private_aspointerevent'>
		<td><code><b>private_asPointerEvent</b>()</nobr></code></td>
		<td><code>PointerEvent</code></td>
		<td>Returns an instance of <code>PointerEvent</code> representing the current state of the finger</td>
	</tr>
	<tr id='finger-private_asmouseevent'>
		<td><code><b>private_asMouseEvent</b>(<nobr>&lt;String&gt; <i>evType</i></nobr>)</nobr></code></td>
		<td><code>PointerEvent</code></td>
		<td>Returns an instance of <code>PointerEvent</code> representing the current state of the finger</td>
	</tr>
</tbody></table>
</section>

<h2 id='hand'>Hand</h2>
<p>Represents a set of <a href="#finger"><code>Finger</code></a>s, capable of performing synthetic touch gestures</p>

<h3 id='hand-example'>Usage example</h3>

<section data-type='[object Object]'>



<pre><code class="lang-js">var h = new Hand({ timing: &#39;20ms&#39; });
</code></pre>


</section>

<h3 id='hand-factory'>Creation</h3>

<section data-type='[object Object]'>


<table><thead>
	<tr>
		<th>Instantiation</th>
		<th>Description</th>
	</tr>
	</thead><tbody>
	<tr id='hand-hand'>
		<td><code>new <b>Hand</b>(<nobr>&lt;Hand options&gt; <i>options?</i></nobr>)</nobr></code></td>
		<td>Instantiates a new <a href="#hand"><code>Hand</code></a> with the given options.</td>
	</tr>
</tbody></table>
</section>

<h3 id='hand-option'>Options</h3>

<section data-type='[object Object]'>


<table><thead>
	<tr>
		<th>Option</th>
		<th>Type</th>
		<th>Default</th>
		<th>Description</th>
	</tr>
	</thead><tbody>
	<tr id='hand-timing'>
		<td><code><b>timing</b></code></td>
		<td><code><a href='#timing'>Timing</a></code>
		<td><code>&#x27;20ms&#x27;</code></td>
		<td>Defines how often new events will be fired, in one of the possible
timing modes</td>
	</tr>
	<tr id='hand-onstart'>
		<td><code><b>onStart</b></code></td>
		<td><code>Function</code>
		<td><code></code></td>
		<td>If set to a callback function, it will be called (with the <a href="#hand"><code>Hand</code></a> 
as its only argument) whenever the movements start.</td>
	</tr>
	<tr id='hand-onstop'>
		<td><code><b>onStop</b></code></td>
		<td><code>Function</code>
		<td><code></code></td>
		<td>If set to a callback function, it will be called (with the <a href="#hand"><code>Hand</code></a> 
as its only argument) whenever the movements are completed.</td>
	</tr>
</tbody></table>
</section>

<h3 id='hand-event'>Events</h3>

<section data-type='[object Object]'>

Use <code>document.addEventListener(&#39;prostheticHandStop&#39;, fn)</code> to
do stuff with it.
<table><thead>
	<tr>
		<th>Event</th>
		<th>Data</th>
		<th>Description</th>
	</tr>
	</thead><tbody>
	<tr id='hand-prosthetichandstart'>
		<td><code><b>prostheticHandStart</b>
		<td><code>CustomEvent</code></td>
		<td>Fired when all movements are complete.</td>
	</tr>
	<tr id='hand-prosthetichandstop'>
		<td><code><b>prostheticHandStop</b>
		<td><code>CustomEvent</code></td>
		<td>Fired when all movements are complete.</td>
	</tr>
	<tr id='hand-prosthetichandtick'>
		<td><code><b>prostheticHandTick</b>
		<td><code>CustomEvent</code></td>
		<td>Fired a movement is about to start, just before the mouse/touch/pointer
events are fired.</td>
	</tr>
</tbody></table>
</section>

<h3 id='hand-method'>Methods</h3>

<section data-type='[object Object]'>


<table><thead>
	<tr>
		<th>Method</th>
		<th>Returns</th>
		<th>Description</th>
	</tr>
	</thead><tbody>
	<tr id='hand-growfinger'>
		<td><code><b>growFinger</b>(<nobr><i>eventMode</i></nobr>, <nobr><i>options</i></nobr>)</nobr></code></td>
		<td><code><a href='#finger'>Finger</a></code></td>
		<td>Creates a new <a href="#finger"><code>Finger</code></a> with the same parameters as the <a href="#finger-finger"><code>Finger</code> constructor</a>,
and adds it to the hand.</td>
	</tr>
	<tr id='hand-fingerisbusy'>
		<td><code><b>fingerIsBusy</b>()</nobr></code></td>
		<td><code>this</code></td>
		<td>Used by this hand&#39;s fingers to signal that there are movements to be
performed by at least one finger.</td>
	</tr>
	<tr id='hand-fingerisidle'>
		<td><code><b>fingerIsIdle</b>()</nobr></code></td>
		<td><code>this</code></td>
		<td>Used by this hand&#39;s fingers to signal that one finger has finished doing
all the queued movements.</td>
	</tr>
	<tr id='hand-sync'>
		<td><code><b>sync</b>(<nobr><i>delay</i></nobr>)</nobr></code></td>
		<td><code>this</code></td>
		<td>Synchronizes the finger movements by adding a delay of <strong>at least</strong> <code>delay</code>
milliseconds to each finger. After a sync, the movements of the fingers
will happen at exactly the same time.</td>
	</tr>
	<tr id='hand-private_dispatchevents'>
		<td><code><b>private_dispatchEvents</b>()</nobr></code></td>
		<td><code>this</code></td>
		<td>Updates all the fingers, fetching their events/touchpoints, and dispatches
all <code>Event</code>s triggered by the update.
This is meant to be called on an internal timer.</td>
	</tr>
</tbody></table>
</section>

<h2 id='timing'></h2>

<h3 id='timing-option'>Timing</h3>

<section data-type='[object Object]'>


<table><thead>
	<tr>
		<th>Option</th>
		<th>Type</th>
		<th>Default</th>
		<th>Description</th>
	</tr>
	</thead><tbody>
	<tr id='timing-ms'>
		<td><code><b>ms</b></code></td>
		<td><code></code>
		<td><code></code></td>
		<td>Preceded by a number (e.g. <code>&#39;20ms&#39;</code>), this mode triggers an event
dispatch every that many milliseconds.</td>
	</tr>
	<tr id='timing-frame'>
		<td><code><b>frame</b></code></td>
		<td><code></code>
		<td><code></code></td>
		<td>This mode dispatches an event every <a href="https://developer.mozilla.org/docs/Web/API/Window/requestAnimationFrame">animation frame</a>.</td>
	</tr>
	<tr id='timing-minimal'>
		<td><code><b>minimal</b></code></td>
		<td><code></code>
		<td><code></code></td>
		<td>This mode triggers an event dispatch per finger change, and ensures
that every move can trigger its own event (no two movements will be
rolled into one event if they are very close).</td>
	</tr>
	<tr id='timing-instant'>
		<td><code><b>instant</b></code></td>
		<td><code></code>
		<td><code></code></td>
		<td>Like the <code>minimal</code> mode, but ignores timings completely and dispatches
all events instantaneously. This might cause misbehaviour in graphical
browsers, and the <code>onStart</code> and <code>onStop</code> callbacks will be called at.
every step of the movement (as the movement ends before the next step
is chained in)</td>
	</tr>
	<tr id='timing-fastframe'>
		<td><code><b>fastframe</b></code></td>
		<td><code></code>
		<td><code></code></td>
		<td>This mode ignores timings completely like the <code>instant</code> mode, and
dispatches a new event every so many frames.</td>
	</tr>
</tbody></table>
</section>



</body></html>